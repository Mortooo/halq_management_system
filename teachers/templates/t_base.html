{% load static %}
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}{% endblock %}</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    
    <script>
        // Tailwind Config
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Cairo', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Cairo', sans-serif;
        }
    </style>

    <!-- Ø³ÙƒØ±Ø¨Øª ØªØ´ØºÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙÙŠ Ø§Ù„Ø¬ÙˆØ§Ù„ -->
 <script>
    document.addEventListener('DOMContentLoaded', () => {
        const menuBtn = document.getElementById('menu-btn');
        const sidebar = document.getElementById('sidebar');
        const navLinks = sidebar.querySelectorAll('a');

        // âœ… Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        menuBtn.addEventListener('click', (event) => {
            event.stopPropagation(); // ÙŠÙ…Ù†Ø¹ Ø¥ØºÙ„Ø§Ù‚Ù‡Ø§ ÙÙˆØ±Ù‹Ø§ Ø¨Ø¹Ø¯ Ø§Ù„ÙØªØ­
            sidebar.classList.toggle('hidden');
        });

        // âœ… Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£Ø­Ø¯ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· (ÙÙŠ Ø§Ù„Ø¬ÙˆØ§Ù„ ÙÙ‚Ø·)
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth < 768) { // md breakpoint
                    sidebar.classList.add('hidden');
                }
            });
        });

        // âœ… Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· ÙÙŠ Ø£ÙŠ Ù…ÙƒØ§Ù† Ø®Ø§Ø±Ø¬Ù‡Ø§
        document.addEventListener('click', (event) => {
            const isClickInside = sidebar.contains(event.target) || menuBtn.contains(event.target);
            if (!isClickInside && window.innerWidth < 768) {
                sidebar.classList.add('hidden');
            }
        });

        // âœ… Ø¹Ù†Ø¯ ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø´Ø§Ø´Ø©ØŒ Ù†ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ØªØ¸Ù‡Ø± Ø¯Ø§Ø¦Ù…Ù‹Ø§
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 768) {
                sidebar.classList.remove('hidden');
            }
        });
    });
</script>

</head>

<body class="bg-slate-900 text-slate-300 flex flex-col min-h-screen">

   
    
    <main class="flex-grow">
        <div class="flex min-h-screen">
            <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
            <aside  id="sidebar" class="w-64 bg-slate-800 p-6 flex-shrink-0 hidden md:block fixed md:relative h-full z-40">
                <h2 class="text-2xl font-bold text-blue-400 mb-8">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
                <nav dir='rtl' class="space-y-2">
                    <a href="{% url 'teacher_dashboard' %}"
                        class="text-white flex items-center p-3 rounded-lg font-bold transition-colors
                            {% if request.path == '/teacher/dashbord' %}
                                bg-blue-600/50 text-white font-bold
                            {% else %}
                                text-slate-300 hover:bg-slate-700/60
                            {% endif %}">
                        <span class="ml-4">ğŸ </span> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                    </a>
                    <a href="{% url 'students_attendance' user.id %}"
                        class="text-slate-300 hover:bg-slate-700/60 flex items-center p-3 rounded-lg transition-colors">
                        <span class="ml-4">âœ”ï¸</span> Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„ØºÙŠØ§Ø¨
                    </a>
                    <a href="#"
                        class="text-slate-300 hover:bg-slate-700/60 flex items-center p-3 rounded-lg transition-colors">
                        <span class="ml-4">ğŸ“–</span> Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ù‚Ø±Ø±   (Ù‚Ø±ÙŠØ¨Ø§Ù‹)
                    </a>
                    <a href="{% url 'weekly_report' user.id %}"
                        class="text-slate-300 hover:bg-slate-700/60 flex items-center p-3 rounded-lg transition-colors">
                        <span class="ml-4">ğŸ“…</span> Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©
                    </a>
                    <a href="#"
                        class=" disable text-slate-300 hover:bg-slate-700/60 flex items-center p-3 rounded-lg transition-colors">
                        <span class="ml-4">â­</span> Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª   (Ù‚Ø±ÙŠØ¨Ø§Ù‹)
                    </a>
                    <a href="{% url 'students_list' user.id %}"
                        class="text-slate-300 hover:bg-slate-700/60 flex items-center p-3 rounded-lg transition-colors
                        {% if 'students_list' in request.path %}
                            bg-blue-600/50 text-white font-bold
                        {% else %}
                            text-slate-300 hover:bg-slate-700/60
                        {% endif %}">
                        <span class="ml-4">ğŸ‘¤</span> Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°
                    </a>
                    <a href="{% url 'account_logout'%}"
                        class="bg-red-600 text-slate-300 hover:bg-slate-700/60 flex items-center p-3 rounded-lg transition-colors">
                        <span class="ml-4"></span> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
                    </a>
                </nav>
            </aside>

        {% block content %}
        {% endblock %}

        </div>
    </main>

    <footer class="bg-slate-800 border-t border-slate-700 mt-auto">
        <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8 text-center">
             <h2 class="text-lg font-semibold text-white mb-2">Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ù„Ù‚Ø§Øª Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠØ©</h2>
            <p class="text-slate-400">ØªØµÙ…ÙŠÙ…: Ù…Ø±ØªØ¶Ù‰ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø®ÙŠØ± &copy; 2025</p>
        </div>
    </footer>

</body>
</html>